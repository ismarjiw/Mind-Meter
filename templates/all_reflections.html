{% extends 'logout.html' %}
{% block title %} Journal Page {% endblock %}

{% block body %}

<div class="reflections">
{% for reflection in reflections %}
    <div class="reflection">
        <p><b>Title:</b></p>
            <p class="title">{{ reflection.title }}</p>
        <div class="content">
            <b><h4>Content:</h4></b>
            <p>{{ reflection.content }}</p>
            <i><p>{{ reflection.meditation.date.strftime('%m-%d-%Y @ %I:%M:%S') }}</p></i>
            <div class="'tag">
                <b><h3>Tag:</h3></b>
                <p>{{ reflection.tags }} </p>
            </div>
            <button onclick="onClickDelete( '{{reflection.meditation_id}}' )" type="button" class="delete text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Delete</button>
        </div>
    </div>

{% endfor %}
</div>   



<script>
    
    function onClickDelete(meditation_id) {
        fetch(`/delete-reflection/${meditation_id}`) 
            .then((response) => {
                alert("Entry deleted");
                location.reload()
        });
    };

</script>

{% endblock %}